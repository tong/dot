# vim: filetype=conf

env = XCURSOR_SIZE,24
env = LIBVA_DRIVER_NAME,nvidia
env = XDG_SESSION_TYPE,wayland
env = GBM_BACKEND,nvidia-drm
env = __GLX_VENDOR_LIBRARY_NAME,nvidia
env = WLR_NO_HARDWARE_CURSORS,1
env = GTK_THEME,Adwaita-dark

#monitor = ,preferred,auto,auto

monitor = DP-2,3840x2160@60,0x0,1
monitor = HDMI-A-1,1920x1080@60,3840x0,1,transform,1
#monitor = HDMI-A-1,disable

# 3 monitors
# monitor = DP-1,3840x2160@60,0x0,1,transform,1,bitdepth,10
# monitor = DP-2,3840x2160@60,2160x800,1
# monitor = HDMI-A-1,1920x1080@60,6000x800,1,transform,1

exec-once = systemctl --user import-environment DISPLAY WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
#exec-once = systemctl --user start hyprland-session.target
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec-once = swaybg --color '#252525'
exec-once = waybar
#exec-once = swayidle -w timeout 6000 'waylock -init-color 0x0000ff -input-color 0xaaddcc -fail-color 0xff0000'
exec-once = wl-paste -t text --watch clipman store --no-persist
#exec-once = socat -u UNIX-CONNECT:/tmp/hypr/$HYPRLAND_INSTANCE_SIGNATURE/.socket2.sock EXEC:"/usr/share/hyprevents/event_loader /home/tong/.local/share/hypr_event_handler",nofork

general {
    layout = dwindle
    gaps_in = 4
    gaps_out = 8
    border_size = 4
    col.active_border = rgba(e0e0e099) rgba(e0e0e077) 90deg
    col.inactive_border = rgba(000000ff) rgba(000000ff) 0deg
    cursor_inactive_timeout = 1
}

misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
    #enable_swallow = true
    #mouse_move_enables_dpms=true
    #disable_autoreload = false
    #mouse_move_focuses_monitor = true
  #cursor_zoom_factor = 3.0
}

input {
    #kb_layout = us-german-umlaut
    #kb_layout = us
    #kb_variant =
    #kb_model =
    #kb_options =
    #kb_rules =
    repeat_rate=100
    repeat_delay=190
    follow_mouse = 2
    accel_profile = adaptive
    #accel_profile = custom 200 0.0 0.5
    sensitivity = 1.0
    #natural_scroll = true
}

device:splitkb.com-kyria-rev2 {
    kb_layout = us-german-umlaut
}

decoration {
    active_opacity = 0.99
    inactive_opacity = 0.95
    fullscreen_opacity = 1.0
    dim_inactive = true
    dim_strength = 0.13
    #dim_around = 1
    #blur = yes
    #blur_size = 5
    #blur_passes = 1
    #blur_new_optimizations = true
    #blur_xray = yes
    drop_shadow = yes
    shadow_range = 80
    #shadow_ignore_window = true
    #shadow_offset = 4 4
    shadow_render_power = 3
    col.shadow = rgba(050505bb)
    col.shadow_inactive = rgba(080808bb)
    #rounding = 1
    screen_shader = /home/tong/.config/hypr/shaders/colorfilter.fs
}

animations {
    enabled = yes
    source = ~/.config/hypr/bezier.conf
    animation = windowsIn, 1, 2, OutExpo
    animation = windowsOut, 1, 1, default
    animation = windowsMove, 1, 2.75, OutQuart
    animation = fadeIn, 1, 1, OutQuart
    animation = fadeOut, 1, 1, InQuart
    animation = fadeSwitch, 1, 1, OutQuart
    animation = fadeShadow, 1, 1, default
    animation = border, 1, 2, default
    #animation = borderangle, 1, 5, default
    animation = workspaces, 1, 4, OutQuint
    animation = specialWorkspace, 1, 4, OutQuint, slidevert
}

dwindle {
    #pseudotile = yes
    preserve_split = yes
    default_split_ratio = 1
    no_gaps_when_only = yes
    #split_width_multiplier = 1.0
    special_scale_factor = 0.9
}

# master {
#     new_is_master = true
#     new_on_top=true
#     no_gaps_when_only = true
# }

gestures {
    workspace_swipe = off
}

# device:logitech-mx-master-3-1 {
#     sensitivity = 1.0
# }


## Window Rules ###############################################################

windowrulev2 = opacity 1.0, fullscreen:1
windowrulev2 = noblur, floating:0
#windowrulev2 = opacity 0.99 override 0.9 override, floating:1
windowrulev2 = noshadow, floating:0
#windowrulev2 = noshadow, class:^(?!dunst$)$
#windowrule = opacity 1.0 override 0.8 override,^(kitty) # set opacity to 1.0 active and 0.5 inactive for kitty
#windowrulev2 = rounding 2, floating:1
#windowrulev2 = bordercolor rgb(FF0000) rgb(880808), floating:1
#windowrulev2 = dimaround, floating:1
#windowrulev2 = opacity 0.6,floating:1
#windowrulev2 = float,class:^(kitty)$,title:^(kitty)$
#windowrulev2 = float, class:^(brave)$,title:^(Save File)$
#windowrulev2 = float, title:^(Save File)$
#windowrulev2 = float, class:^(brave)$,title:^(Save File)$
#windowrulev2 = noanim, class:^()$,title:^(Save File)$
windowrule = float, mpv
windowrule = float, org.gnome.baobab
windowrule = float, pavucontrol
windowrule = float, Calculator 
windowrulev2 = float, class:^(.+_KincApplication)$
windowrulev2 = opacity 1.0, class:^(mpv)$


## Workspace Rules ############################################################

workspace = DP-1, 1
workspace = DP-2, 3
workspace = DP-3, 6
workspace=10, gapsin:48, gapsout:96
#workspace=name:special,bordersize:2
#workspace=name:special,gapsin:4,gapsout:2
workspace=name:special, gapsin:0, gapsout:0, decorate:true


## Keybindings ################################################################

source = ~/.config/hypr/bindings.conf

