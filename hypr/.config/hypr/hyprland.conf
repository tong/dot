# vim: filetype=conf

#env = XCURSOR_SIZE,24
env = LIBVA_DRIVER_NAME,nvidia
env = XDG_SESSION_TYPE,wayland
env = GBM_BACKEND,nvidia-drm
env = GDK_BACKEND=,wayland
env = GDK_SCALE,1
env = GDK_DPI_SCALE,1
env = __GLX_VENDOR_LIBRARY_NAME,nvidia
env = WLR_NO_HARDWARE_CURSORS,1
env = GTK_THEME,Adwaita-dark
env = SSH_AUTH_SOCK,$XDG_RUNTIME_DIR/ssh-agent.socket
env = HYPRCURSOR_THEME,rose-pine-hyprcursor
env = HYPRCURSOR_SIZE,32

#monitor = ,preferred,auto,auto
monitor = DP-2,3840x2160@60,0x0,1
monitor = HDMI-A-1,1920x1080@60,3840x0,1,transform,1
#monitor = HDMI-A-1,disable

# 3 monitors
# monitor = DP-1,3840x2160@60,0x0,1,transform,1,bitdepth,10
# monitor = DP-2,3840x2160@60,2160x800,1
# monitor = HDMI-A-1,1920x1080@60,6000x800,1,transform,1

#exec-once = systemctl --user start hyprland-session.target
#exec-once = dbus-update-activation-environment --systemd --all
#exec-once = /usr/bin/gnome-keyring-daemon --start --components=secrets
#exec-once = /usr/bin/gnome-keyring-daemon --start --components=secrets,ssh,pcks11
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = systemctl --user import-environment
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec-once = /usr/bin/gnome-keyring-daemon --start

exec-once = wl-paste -t text --watch clipman store
#exec-once = wl-paste --watch cliphist store
#exec-once = socat -u UNIX-CONNECT:/tmp/hypr/$HYPRLAND_INSTANCE_SIGNATURE/.socket2.sock EXEC:"/usr/share/hyprevents/event_loader /home/tong/.local/share/hypr_event_handler",nofork
exec-once = sleep 1 && dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
#exec-once = swayidle -w timeout 300 'swaylock -f -c 0000ff' timeout 360 'hyprctl dispatch dpms off' resume 'hyprctl dispatch dpms on'
exec-once = swayidle -w timeout 300 'hyprctl dispatch dpms off' resume 'hyprctl dispatch dpms on'

#exec = pkill waybar; waybar
exec-once = waybar
exec-once = dunst
#exec-once = swaybg --color '#303030'
#exec = pkill swaybg; swaybg -m fill -i ~/.local/share/wallpapers/tk.jpg
#exec = pkill swaybg; swaybg --color '#ff3030'
#exec-once = pkill swaybg; swaybg --color "#0000ff"
#exec-once = hyprpaper

#exec-once=[workspace 1 silent] kitty

source = ~/.config/hypr/bezier.conf
source = ~/.config/hypr/bindings.conf

general {
    gaps_in = 2
    gaps_out = 3
    border_size = 3
    col.active_border = rgba(e0e0e099) rgba(e0e0e099) 90deg
    col.inactive_border = rgba(00000000) rgba(00000000) 90deg
    cursor_inactive_timeout = 1
    layout = dwindle
}

decoration {
  rounding = 5
  active_opacity = 1.0
  inactive_opacity = 0.9
  fullscreen_opacity = 1.0
  dim_inactive = true
  dim_strength = 0.1
  # dim_special = 0.4
  #dim_around = 1
  drop_shadow = yes
  shadow_range = 48
  shadow_ignore_window = true
  # shadow_offset = 4 4
  shadow_render_power = 2
  col.shadow = rgba(050505cc)
  col.shadow_inactive = rgba(050505bb)
  blur {
    enabled = true
    #passes = 2
  }
  #screen_shader = /home/tong/.config/hypr/shaders/colorfilter.fs
  #screen_shader = /home/tong/.config/hypr/shaders/bluefilter.frag
  #screen_shader = /home/tong/.config/hypr/shaders/extradark.glsl
}

misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
    #enable_swallow = true
    #mouse_move_enables_dpms=true
    #mouse_move_focuses_monitor = true
}

input {
    #kb_layout = us
    #kb_variant =
    #kb_model =
    #kb_options =
    #kb_rules =
    repeat_rate=100
    repeat_delay=190
    follow_mouse = 2
    accel_profile = adaptive
    #accel_profile = custom 200 0.0 0.5
    sensitivity = 1.0
    #natural_scroll = true
    kb_layout = us-german-umlaut
}

animations {
    enabled = yes
    animation = windowsIn, 1, 3, OutExpo
    #animation = windowsOut, 1, 1, default
    animation = windowsMove, 1, 2.75, OutQuart
    animation = fadeIn, 1, 1, OutQuart
    animation = fadeOut, 1, 1, InQuart
    animation = fadeSwitch, 1, 1, OutQuart
    #animation = fadeShadow, 1, 1, default
    #animation = border, 1, 2, default
    #animation = borderangle, 1, 5, default
    animation = workspaces, 1, 4, OutQuint
    animation = specialWorkspace, 1, 3, OutQuint, slidefadevert 90%
}

dwindle {
    preserve_split = yes
    #pseudotile = yes
    #default_split_ratio = 1.0
    #no_gaps_when_only = yes
    #split_width_multiplier = 1.0
    #special_scale_factor = 0.95
}

# master {
#     new_is_master = true
#     new_on_top=true
#     no_gaps_when_only = true
# }

gestures {
    workspace_swipe = off
}

debug {
  damage_tracking = 0
}

# device:splitkb.com-kyria-rev2 {
#     kb_layout = us-german-umlaut
# }

# device:logitech-mx-master-3-1 {
#     sensitivity = 1.0
# }

workspace = DP-1, 1
workspace = DP-2, 1
workspace = DP-3, 6
workspace = HDMI-A-1, 5

workspace=10, gapsin:48, gapsout:96
workspace=name:special, gapsin:24, gapsout:72, decorate:true, bordersize:3
#workspace=name:special,bordersize:2

windowrulev2 = opacity 1.0, fullscreen:1
#windowrulev2 = noblur, floating:0
#windowrulev2 = noblur, floating:1
#windowrulev2 = opacity 0.99 override 0.9 override, floating:1

#windowrulev2 = noshadow, floating:0
windowrulev2 = noshadow,floating:0,onworkspace:s[false]

#windowrulev2 = noshadow, class:^(?!dunst$)$
#windowrule = opacity 1.0 override 0.8 override,^(kitty) # set opacity to 1.0 active and 0.5 inactive for kitty
#windowrulev2 = rounding 2, floating:1
#windowrulev2 = bordercolor rgb(FF0000) rgb(880808), floating:1
#windowrulev2 = dimaround, floating:1
#windowrulev2 = opacity 0.6,floating:1
#windowrulev2 = float,class:^(kitty)$,title:^(kitty)$
#windowrulev2 = float, class:^(brave)$,title:^(Save File)$
#windowrulev2 = float, title:^(Save File)$
#windowrulev2 = float, class:^(brave)$,title:^(Save File)$
#windowrulev2 = noanim, class:^()$,title:^(Save File)$
windowrule = float, mpv
windowrule = float, org.gnome.baobab
windowrule = float, pavucontrol
windowrule = float, Calculator 
windowrulev2 = float, class:^(.+_KincApplication)$
windowrulev2 = opacity 1.0, class:^(mpv)$

