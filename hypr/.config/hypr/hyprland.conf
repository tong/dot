# vim: filetype=conf

#env = XCURSOR_SIZE,24
env = LIBVA_DRIVER_NAME,nvidia
env = XDG_SESSION_TYPE,wayland
env = GBM_BACKEND,nvidia-drm
env = GDK_BACKEND=,wayland
env = GDK_SCALE,1
env = GDK_DPI_SCALE,1
env = __GLX_VENDOR_LIBRARY_NAME,nvidia
#env = WLR_NO_HARDWARE_CURSORS,1
env = GTK_THEME,Adwaita-dark
env = SSH_AUTH_SOCK,$XDG_RUNTIME_DIR/ssh-agent.socket
env = HYPRCURSOR_THEME,rose-pine-hyprcursor
#env = HYPRCURSOR_SIZE,32

monitor = ,preferred,auto,auto
#monitor = DP-1,3840x2160@60,0x0,1.25
#monitor = DP-1,3840x2160@60,0x0,1
monitor = DP-1,3840x2160@60,0x0,1
#monitor = DP-2,1920x1080@60,0x0,1
monitor = HDMI-A-1,1920x1080@60,3840x0,1,transform,1
#monitor = HDMI-A-1,1920x1080@60,1920x0,1,transform,1
#monitor = HDMI-A-1,disable

# 3 monitors
# monitor = DP-1,3840x2160@60,0x0,1,transform,1,bitdepth,10
# monitor = DP-2,3840x2160@60,2160x800,1
# monitor = HDMI-A-1,1920x1080@60,6000x800,1,transform,1

#exec-once = systemctl --user start hyprland-session.target
#exec-once = dbus-update-activation-environment --systemd --all
#exec-once = /usr/bin/gnome-keyring-daemon --start --components=secrets,ssh,pcks11
# exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = systemctl --user import-environment
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec-once = /usr/bin/gnome-keyring-daemon --start

exec-once = wl-paste -t text --watch clipman store
#exec-once = socat -u UNIX-CONNECT:/tmp/hypr/$HYPRLAND_INSTANCE_SIGNATURE/.socket2.sock EXEC:"/usr/share/hyprevents/event_loader /home/tong/.local/share/hypr_event_handler",nofork
exec-once = sleep 1 && dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP

#exec = pkill waybar; waybar

exec-once = waybar
# exec-once = dunst
 exec-once = mako
exec-once = hypridle
# exec-once = hyprpaper
#exec-once=[workspace 1 silent] kitty

# source = ~/.config/hypr/bezier.conf
source = ~/.config/hypr/bindings.conf

general {
    gaps_in = 4
    gaps_out = 4
    border_size = 2
    col.active_border = rgba(e0e0e060) rgba(e0e0e060) 90deg
    col.inactive_border = rgba(00000000) rgba(00000000) 90deg
    #cursor_inactive_timeout = 1
    layout = dwindle
}

cursor {
    inactive_timeout = 1
    enable_hyprcursor = true
    no_hardware_cursors = true
    #allow_dumb_copy = true
}

input {
    follow_mouse = 2
    accel_profile = adaptive
    #accel_profile = custom 200 0.0 0.5
    sensitivity = 1.0
    #natural_scroll = true
    repeat_rate = 100
    repeat_delay = 190
}
device {
    name = splitkb.com-kyria-rev2
    kb_layout = us-german-umlaut
}
device {
    name = splitkb.com-kyria-rev3
    kb_layout = us-german-umlaut
}
# device {
# name = logitech-mx-master-3-1
#     sensitivity = 1.0
# }

decoration {
  rounding = 4
  #rounding_power = 2
  border_part_of_window = false
  #active_opacity = 0.9
  active_opacity = 1
  inactive_opacity = 0.8
  dim_inactive = true
  dim_strength = 0.2
# dim_around = 0.9
  # dim_special = 0.4
  fullscreen_opacity = 1.0
  shadow {
    # enabled = false
    range=48
    # render_power=4
     color=0xff101010
  }
  blur {
    # enabled = false
    size = 8
    passes = 3
    # xray = true
    # special = false
    # popups = true

  }
  #screen_shader = /home/tong/.config/hypr/shaders/colorfilter.fs
}

animations {

    bezier = InCirc, 0.55, 0, 1, 0.45
    bezier = OutCirc, 0, 0.55, 0.45, 1
    bezier = InOutCirc, 0.85, 0, 0.15, 1
    bezier = InCubic, 0.32, 0, 0.67, 0
    bezier = OutCubic, 0.33, 1, 0.68, 1
    bezier = InOutCubic, 0.65, 0, 0.35, 1
    bezier = InExpo, 0.7, 0, 0.84, 0
    bezier = OutExpo, 0.16, 1, 0.3, 1
    bezier = InOutExpo, 0.87, 0, 0.13, 1
    bezier = InQuad, 0.11, 0, 0.5, 0
    bezier = OutQuad, 0.5, 1, 0.89, 1
    bezier = InOutQuad, 0.45, 0, 0.55, 1
    bezier = InQuart, 0.5, 0, 0.75, 0
    bezier = OutQuart, 0.25, 1, 0.5, 1
    bezier = InOutQuart, 0.76, 0, 0.24, 1
    bezier = InBack, 0.36, 0, 0.66, -0.56
    bezier = OutBack, 0.34, 1.56, 0.64, 1
    bezier = InOutBack, 0.68, -0.6, 0.32, 1.6
    bezier = InQuint, 0.64, 0, 0.78, 0
    bezier = OutQuint, 0.22, 1, 0.36, 1
    bezier = InOutQuint, 0.83, 0, 0.17, 1
    # bezier = elastic, 0.8, -0.5, 0.2, 1.8

    # enabled = true
    # animation = windowsIn, 1, 1, OutExpo
    # animation = fadeIn, 1, 1, OutQuart
    # animation = windowsOut, 1, 1, InQuart
    # animation = fadeOut, 1, 1, InQuart
    # animation = windowsMove, 1, 2.75, OutQuart
    # animation = fadeSwitch, 1, 1, OutQuart
    # #animation = fadeShadow, 1, 1, default
    # #animation = border, 1, 2, default
    # #animation = borderangle, 1, 5, default

    animation = global,        1,     10,    default
    animation = windows,       1,     5, default

    animation = workspaces, 1, 4, OutQuint, slide
    #animation = specialWorkspace, 1, 3, OutQuint, slidefadevert 90%
    animation = specialWorkspace, 1, 3, OutQuint, slidevert

    animation = windowsIn,     1,     2,   OutQuint
    animation = windowsOut,     1,     1,   InQuint

    animation = fadeIn, 1, 5, OutQuint
    animation = fadeSwitch, 1, 5, OutQuint
    animation = fadeDim, 1, 5, OutQuint

    animation = border, 1, 1, OutQuint

    # Default curves, see https://wiki.hypr.land/Configuring/Animations/#curves
    #        NAME,           X0,   Y0,   X1,   Y1
    # bezier = easeOutQuint,   0.23, 1,    0.32, 1
    # bezier = easeInOutCubic, 0.65, 0.05, 0.36, 1
    # bezier = linear,         0,    0,    1,    1
    # bezier = almostLinear,   0.5,  0.5,  0.75, 1
    # bezier = quick,          0.15, 0,    0.1,  1
    #
    # # Default animations, see https://wiki.hypr.land/Configuring/Animations/
    # #           NAME,          ONOFF, SPEED, CURVE,        [STYLE]
    # animation = global,        1,     10,    default
    # animation = border,        1,     5.39,  easeOutQuint
    # animation = windows,       1,     4.79,  easeOutQuint
    ##animation = windowsIn,     1,     4.1,   OutQuint, popin 7%
    # animation = windowsOut,    1,     1.49,  linear,       popin 87%
    # animation = fadeIn,        1,     1.73,  almostLinear
    # animation = fadeOut,       1,     1.46,  almostLinear
    # animation = fade,          1,     3.03,  quick
    # animation = layers,        1,     3.81,  easeOutQuint
    # animation = layersIn,      1,     4,     easeOutQuint, fade
    # animation = layersOut,     1,     1.5,   linear,       fade
    # animation = fadeLayersIn,  1,     1.79,  almostLinear
    # animation = fadeLayersOut, 1,     1.39,  almostLinear
    # animation = workspaces,    1,     1.94,  almostLinear, fade
    # animation = workspacesIn,  1,     1.21,  almostLinear, fade
    # animation = workspacesOut, 1,     1.94,  almostLinear, fade
    # animation = zoomFactor,    1,     7,     quick
}

dwindle {
    preserve_split = yes
    #pseudotile = yes
    #default_split_ratio = 1.0
    #no_gaps_when_only = yes
    #split_width_multiplier = 1.0
    #special_scale_factor = 0.95
	#smart_split = false
	smart_resizing = false
}

debug {
  damage_tracking = 0
}

misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
    #animate_mouse_windowdragging = true
    animate_manual_resizes = true
    #enable_swallow = true
    #mouse_move_enables_dpms=true
    #mouse_move_focuses_monitor = true
    #close_special_on_empty = true
    background_color = rgba(141414ff)
    #focus_on_activate = true
}

ecosystem {
  no_update_news = true
}

 # windowrule = float, opacity:0.
# windowrule = opacity 1.0, noborder, noshadow, fullscreen:1
# windowrule = noshadow, floating:0, onworkspace:s[false]
# windowrule = opacity 0.5 floating:1

#windowrulev2 = noblur, noshadow, floating:0
# windowrulev2 = opacity 0.9 override 0.9 override, floating:1
#windowrulev2 = noshadow,floating:0,onworkspace:s[false],class:^(kitty)$
#windowrulev2 = shadow,class:Dunst

# windowrulev2 = noshadow, class:^(?!dunst$)$
#windowrule = opacity 1.0 override 0.8 override,^(kitty) # set opacity to 1.0 active and 0.5 inactive for kitty
#windowrulev2 = rounding 2, floating:1
#windowrulev2 = bordercolor rgb(FF0000) rgb(880808), floating:1
# windowrulev2 = float, class:^(.+_KincApplication)$
windowrule = opacity 0.85 0.8, bordercolor 0xffff0000, blur, shadow, floating:1
windowrule = opacity 0.85 0.8, blur, shadow, onworkspace:s[true]
windowrule = noshadow, floating:0, onworkspace:s[false]
windowrule = opacity 1.0 override 0.9 override, noblur, noshadow, floating:0, onworkspace:s[false]

windowrule = noblur, opacity:1.0, class:mpv

windowrule = workspace 8, class:org.gajim.Gajim
windowrule = workspace 8, class:Signal

# layerrule = opacity 0.5, ^mako$

workspace = DP-1, 1
workspace = DP-2, 1
workspace = DP-3, 6
workspace = HDMI-A-1, 5

workspace=10, gapsin:0, gapsout:0
workspace = s[true], gapsin:24, gapsout:48
# workspace=special:special, gapsin:24, gapsout:72
#workspace = name:special:special, gapsin:24, gapsout:48

# workspace = w[tv1]s[false], gapsout:30, gapsin:30
# workspace = f[1]s[false], gapsout:10, gapsin:100

