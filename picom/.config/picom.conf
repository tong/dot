log-level = "info"; # "trace", "debug", "info", "warn", "error"
# log-file = '/path/to/your/log/file'
#show-all-xerrors = false

# Write process ID to a file.
# write-pid-path = '/path/to/your/log/file'

#################################
#             Shadows           #
#################################

shadow = true;
shadow-opacity = 0.85
shadow-radius = 48; # The blur radius for shadows, in pixels. (defaults to 12)
shadow-offset-x = -48; # The left offset for shadows, in pixels. (defaults to -15)
shadow-offset-y = -48; # The top offset for shadows, in pixels. (defaults to -15)

shadow-red = 0
shadow-green = 0
shadow-blue = 0

shadow-exclude = [
    #"class_g = 'i3-frame' && argb",
    #"!I3_FLOATING_WINDOW@:c && class_g != 'Rofi'"
    "!I3_FLOATING_WINDOW@:c && _NET_WM_STATE@:32a != '_NET_WM_STATE_ABOVE'"
];

# shadow-exclude-reg = "" 
# xinerama-shadow-crop = false


#################################
#           Fading              #
#################################

# Fade windows in/out when opening/closing and when opacity changes,
#  unless no-fading-openclose is used.
fading = true

# Opacity change between steps while fading in. (0.01 - 1.0, defaults to 0.028)
# fade-in-step = 0.028
fade-in-step = 0.2;

# Opacity change between steps while fading out. (0.01 - 1.0, defaults to 0.03)
fade-out-step = 0.2;

# The time between steps in fade step, in milliseconds. (> 0, defaults to 10)
fade-delta = 16

# Specify a list of conditions of windows that should not be faded.
# fade-exclude = []

# Do not fade on window open/close.
#no-fading-openclose = true

# Do not fade destroyed ARGB windows with WM frame. Workaround of bugs in Openbox, Fluxbox, etc.
# no-fading-destroyed-argb = false


#################################
#   Transparency / Opacity      #
#################################

inactive-opacity = 0.95;
#frame-opacity = 0.9
#menu-opacity = 0.6
# inactive-opacity-override = true
active-opacity = 1.0
inactive-dim = 0.1
# inactive-dim-fixed = 0.9

focus-exclude = [
    "class_g = 'Dunst'",
    "class_g = 'Rofi'",
    "class_g = 'mpv'",
    "class_g = 'MPlayer'",
    "class_g = 'sxiv'"
];

opacity-rule = [
    #"70:class_g = 'Alacritty && !focused'",
    #"50:class_g = 'Dunst'",
    "90:class_g = 'Rofi'",
    "100:class_g = 'i3lock'",
    "100:class_g = 'mkmv_KincApplication'",
    #"100:class_g = 'Chromium' && I3_FLOATING_WINDOW@:c",
    #"100:WM_WINDOW_ROLE(STRING) = 'pop-up'"
   # "50:class_g = 'neovide' && !focused"
];

#################################
#     Background-Blurring       #
#################################

# blur-method = 
# blur-size = 52
# blur-deviation = false
blur-background = true
# blur-background-frame = false
#blur-kern = "3x3box";
blur-kern = "5,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1";
blur-background-exclude = [
    "class_g = 'mkmv_KincApplication'",
    "_GTK_FRAME_EXTENTS@:c",
    #"!I3_FLOATING_WINDOW@:c",
    #"!I3_FLOATING_WINDOW@:c && _NET_WM_STATE@:32a != '_NET_WM_STATE_ABOVE'",
    "window_type = 'desktop'",
    "window_type = 'dock'",
    "_NET_WM_STATE@:32a = '_NET_WM_ACTION_FULLSCREEN'",
];

#################################
#           Corners             #
#################################

#corner-radius = 2

# rounded-corners-exclude = [
#   "window_type = 'dock'",
#   "window_type = 'desktop'"
#   "_GTK_FRAME_EXTENTS@:c"
# ];

#################################
#       General Settings        #
#################################

# daemon = false
backend = "glx"; # "xrender";
vsync = true
dbus = true
# mark-wmwin-focused = false
#mark-wmwin-focused = true;
# mark-ovredir-focused = false
#mark-ovredir-focused = true;
# detect-rounded-corners = false
# detect-rounded-corners = true;
# detect-client-opacity = false
#detect-client-opacity = true;
#refresh-rate = 0
# sw-opti = 
# use-ewmh-active-win = false
# unredir-if-possible = false
# unredir-if-possible-exclude = []
#detect-transient = true
# detect-client-leader = false
#detect-client-leader = true
# resize-damage = 1
#invert_color
# glx-no-stencil = false
#glx-no-rebind-pixmap = false
#no-use-damage = true
#use-damage = true
xrender-sync-fence = true
#glx-fshader-win = "$(cat ~/.config/picom/shaders/grayscale.glsl)"
#glx-fshader-win = "$(cat ~/.config/picom/shaders/fake-transparency-fshader-win.glsl)"
#glx-fshader-win = "$(cat ~/.config/picom/shaders/default-fshader-win.glsl)"
#glx-fshader-win = "$(cat ~/.config/picom/shaders/default-fshader-win.glsl)"
# force-win-blend = false
# no-ewmh-fullscreen = false
#max-brightness = 0.2
# transparent-clipping = false

# Window type settings
# 
# 'WINDOW_TYPE' is one of the 15 window types defined in EWMH standard: 
#     "unknown", "desktop", "dock", "toolbar", "menu", "utility", 
#     "splash", "dialog", "normal", "dropdown_menu", "popup_menu", 
#     "tooltip", "notification", "combo", and "dnd".
# 
# Following per window-type options are available: ::
# 
#   fade, shadow:::
#     Controls window-type-specific shadow and fade settings.
# 
#   opacity:::
#     Controls default opacity of the window type.
# 
#   focus:::
#     Controls whether the window of this type is to be always considered focused. 
#     (By default, all window types except "normal" and "dialog" has this on.)
# 
#   full-shadow:::
#     Controls whether shadow is drawn under the parts of the window that you 
#     normally won't be able to see. Useful when the window has parts of it 
#     transparent, and you want shadows in those areas.
# 
#   redir-ignore:::
#     Controls whether this type of windows should cause screen to become 
#     redirected again after been unredirected. If you have unredir-if-possible
#     set, and doesn't want certain window to cause unnecessary screen redirection, 
#     you can set this to `true`.
#
wintypes:
{
    # combo = { shadow = true; }
    desktop = { shadow = false; }
    dock = { shadow = false; }
    dnd = { shadow = true; }
    dialog = { shadow = true; }
    #dropdown_menu = { opacity = 0.4; }
    notification = {
        #opacity = 0.4;
        shadow = true;
    }
    normal = { shadow = true; }
    popup_menu = { opacity = 0.9; }
    menu = { shadow = true; }
    splash = { shadow = true; }
    # toolbar = { shadow = true; }
    #tooltip = { fade = true; shadow = true; opacity = 0.9; focus = true; full-shadow = false; };
    tooltip = { fade = true; shadow = true; opacity = 0.96; focus = false; full-shadow = true; };
    unknown = { shadow = false; }
    # utility = { shadow = true; }
};
