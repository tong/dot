log-level = "warn";
show-all-xerrors = true
dbus = true;
backend = "glx"
vsync = true;
use-damage = false;
#no-use-damage = true;
glx-no-stencil = true;
#glx-no-rebind-pixmap = true
xrender-sync-fence = true
#force-win-blend = true
#detect-rounded-corners = true;
#detect-client-opacity = true;
#detect-transient = true
#mark-wmwin-focused = true;
#mark-ovredir-focused = true;
#unredir-if-possible = false;
unredir-if-possible-delay = 1000;

active-opacity = 0.98
inactive-opacity = 0.86
#inactive-dim = 0.01
#inactive-dim-fixed = 0.15
inactive-opacity-override = true;
opacity-exclude = [
    "class_g = 'slock'",
    "class_g = 'mpv'",
    "class_g = 'vlc'"
]
# opacity-rule = [
# #     "100:_NET_WM_STATE@:32a = '_NET_WM_ACTION_FULLSCREEN'",
#   "100:!I3_FLOATING_WINDOW@:c",
# # #"55:_NET_WM_STATE@:32a = '_NET_WM_STATE_ABOVE'",
# #     "100:class_g = '*_KincApplication'",
# #     "100:class_g = 'localhost__build_*_debug_html5'",
# #     "100:class_g = 'antifog'",
# #     "100:class_g = 'mpv'",
# #"95:class_g = 'kitty' && focused",
# #"100:role = 'browser'",
# #     "100:class_g = 'Sxiv'",
# #     "100:class_g = 'vlc'",
# #     "1 00:class_g = 'mpv'",
# #     "10:class_g = 'Rofi'",
# #     "4:class_g = 'Alacritty'",
#     # "100:class_g = 'Gimp-2.10'",
#     # "100:class_g = 'Brave-browser'",
#     # "100:class_g = 'brave-browser'",
#     # "100:class_g = 'Slock'",
#     # "100:class_g = 'i3lock'",
#     # "59:class_g = 'dunst'",
# ]
opacity-rule = [
    "100:_NET_WM_STATE@:32a = '_NET_WM_ACTION_FULLSCREEN'",
    "100:!I3_FLOATING_WINDOW@:c",
    "100:class_g = 'mpv'",
    "100:class_g = 'Sxiv'",
    "100:class_g = 'vlc'",
    "100:class_g = 'mpv'",
    "50:class_g = 'Rofi'",
    "50:class_g = 'Duns'",
    "88:_NET_WM_STATE@:32a = '_NET_WM_STATE_ABOVE'",
    #"70:class_g = 'Alacritty && !focused'",
    "100:class_g = 'Slock'",
    "100:class_g = 'slock'",
    "100:class_g = 'i3lock'",
    "0:_NET_WM_STATE@[0]:32a *= '_NET_WM_STATE_HIDDEN'",
    "0:_NET_WM_STATE@[1]:32a *= '_NET_WM_STATE_HIDDEN'",
    "0:_NET_WM_STATE@[2]:32a *= '_NET_WM_STATE_HIDDEN'",
    "0:_NET_WM_STATE@[3]:32a *= '_NET_WM_STATE_HIDDEN'",
    "0:_NET_WM_STATE@[4]:32a *= '_NET_WM_STATE_HIDDEN'"
]
#
focus-exclude = [
    "id = 0x420000b",
# #"class_g = 'Dunst'",
# #"class_g = 'mpv'",
#     "class_g = 'Rofi'",
#     "class_g = 'Polybar'",
#     "class_g = 'i3lock'",
    "class_g = 'slock'",
];
#focus-exclude = "x = 0 && y = 0 && override_redirect = true";

blur-background = true
blur-method = "dual_kawase"
blur-strength = 6;
blur-background-frame = false;
blur-background-fixed = true
blur-background-exclude = [
    #"window_type = 'desktop'",
    #"window_type = 'dock'",
    "class_g = 'i3lock'",
    "class_g = 'slock'",
    "class_g = 'Slock'",
    "id = 0x420000b",
    "class_g = 'Polybar'",
#     "class_g = '*_KincApplication'",
#     "_GTK_FRAME_EXTENTS@:c",
#     "_NET_WM_STATE@:32a = '_NET_WM_ACTION_FULLSCREEN'",
#     "!I3_FLOATING_WINDOW@:c && class_g != 'Dunst' && class_g != 'Rofi'",
#"!I3_FLOATING_WINDOW@:c",
#    "!I3_FLOATING_WINDOW@:c && _NET_WM_STATE@:32a = '_NET_WM_STATE_ABOVE'",
]

shadow = true;
shadow-radius = 44
shadow-offset-x = -40;
shadow-offset-y = -40;
shadow-color = "#000000"
shadow-opacity = 0.98;
shadow-exclude = [
    #"!I3_FLOATING_WIN:qaDOW@:c && class_g != 'Dunst' && class_g != 'Rofi'",
    #"class_g = 'i3-frame'",
    "class_g = 'slock'",
    "class_g = 'Polybar'",
    "_GTK_FRAME_EXTENTS@:c",
    "!I3_FLOATING_WINDOW@:c && _NET_WM_STATE@:32a != '_NET_WM_STATE_ABOVE'",
    "_NET_WM_STATE@:32a *= '_NET_WM_STATE_HIDDEN'"
]

corner-radius = 3;
#round-borders = 14;
rounded-corners-exclude = [
# #"!I3_FLOATING_WINDOW@:c",
#     "window_type = 'dock'",
#     "window_type = 'desktop'",
#"_GTK_FRAME_EXTENTS@:c"
];

fading = true;
fade-in-step = 0.1
fade-out-step = 0.2
fade-delta = 20
fade-exclude = [
    "class_g = 'Polybar'",
#     "class_g = 'Slock'",
#     "class_g = 'i3lock'",
#     #"!I3_FLOATING_WINDOW@:c"
]
no-fading-openclose = true
#no-fading-destroyed-argb = false

transition-length = 120
transition-pow-x = 0.7
transition-pow-y = 0.7
transition-pow-w = 0.7
transition-pow-h = 0.7
size-transition = true

wintypes:
{
    normal = {
        shadow = true;
#opacity = 0.8;
        #blur-background = true;
    }
#     menu = {
# #        opacity = false;
#         shadow = false;
#     }
    desktop = {
#        shadow = false;
        blur-background = false;
    }
    dock = {
#shadow = false;
        blur-background = false;
     }
#     dialog = {
#         shadow = false;
#     }
#     dnd = {
#         shadow = false;
#     }
#     dropdown_menu = {
#         opacity = 0.8;
#         shadow = true;
#     }
#     popup_menu = {
# #opacity = 0.9;
#         shadow = false;
#     }
#     tooltip = {
#         fade = true;
#         shadow = true;
#         opacity = 0.7;
#         focus = true;
#         full-shadow = false;
#     }
    splash = {
        fade = false;
        focus = false;
        shadow = true;
        opacity = 1.0;
        blur-background = false;
    }
# #unknown = {
# #        shadow = false;
# #        blur-background = false;
# #    }
# #utility = { shadow = false; }
}
